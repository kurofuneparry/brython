<html>
<head>
  <!-- Site design shamelessly stolen from semantic-ui.com -->
  <!-- Standard Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Site Properities -->
  <title>Brython UI Module</title>
  <meta name="description" content="Gallery demonstrating Brython UI module">
  <meta name="keywords" content="html5, ui, python, brython">

  <!-- Scripts for UI -->
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/semantic-ui/0.19.3/css/semantic.min.css">
  <script src="//cdn.jsdelivr.net/semantic-ui/0.19.3/javascript/semantic.min.js"></script>

<!-- Offline Mode
  <script src="jquery-1.10.2.js"></script>
  <link rel="stylesheet" href="semantic.min.css">
  <script src="semantic.min.js"></script>
-->

  <!-- Demo styling including ace editor-->
  <link rel="stylesheet" type="text/css" href="demo.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/theme-chrome.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-python.js" type="text/javascript"></script>

<!--
  <script src="ace.js" type="text/javascript"></script>
  <script src="theme-chrome.js" type="text/javascript"></script>
  <script src="mode-python.js" type="text/javascript"></script>
-->

  <!-- And the star of the show -->
  <script type="text/javascript" src="/src/brython.js"></script>

</head>
<body id='example' onload="brython(1)" ontouchstart>
<script type="text/python3">
from browser import document, html
import ui

# Variable for gallery demonstration are prepared
from demo import loader

# sidemenu is built
menu = ui.Sidebar(Class="large vertical inverted labeled icon menu")
menu <= loader.make_menu()
document.body <= menu

# top bar is built
top = ui.Menu(Class="fixed transparent inverted main ")
top <= html.DIV(ui.Item(html.B('UI Module'), Class="title"), Class="container")
document.body <= top

# menuButton is built
menuButton = ui.Button(
    ui.Icon(Class="list layout") + html.SPAN('Menu', Class="text"),
    Class="black huge launch right attached button", style={'width':'70px'}
)
document.body <= menuButton

# menuButtontext is initially hidden
ui.jso(menuButton.children[1]).hide()

# TODO: consider using bind instead
# menuButton listeners are added
def menuMouseEnter(event):
    menuButton.stop()
    menuButton.animation({'width':'160px'}, 150,
        lambda:ui.jso(menuButton.children[1]).show())
menuButton.on('mouseenter', menuMouseEnter)
def menuMouseLeave(event):
    ui.jso(menuButton.children[1]).hide()
    menuButton.stop()
    menuButton.animation({'width': '70px'}, 150)
menuButton.on('mouseleave', menuMouseLeave)

# menu is attached to menuButton
menuButton.on('click', lambda x: menu.sidebar('toggle'))

# Containers are added to body
segment = ui.Segment()
document.body <= segment
main = html.DIV(Class="main container")
document.body <= main

# Loader is prepared and the initial page is loaded
loader.top, loader.segment, loader.main = top, segment, main
loader.load('Overview')
</script>

</body>
</head>